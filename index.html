<form action=javascript:doit()>
<input id="input">
<button>do it</button>
</form>
<pre id="output"></pre>
<script>
function unit(what) {
  if(what > 1) {
    return what / 256;
  }
  return what;
}

var Convert = {
  hsl2rgb: function(h, s, l) {
    if (s == 0) {
      return [l, l, l];
    }
     
    var temp2 = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var temp1 = 2 * l - temp2;
     
    h /= 360;
     
    var
      rtemp = (h + 1 / 3) % 1,
      gtemp = h,
      btemp = (h + 2 / 3) % 1,
      rgb = [rtemp, gtemp, btemp],
      i = 0;
     
    for (; i < 3; ++i) {
      rgb[i] = rgb[i] < 1 / 6 ? temp1 + (temp2 - temp1) * 6 * rgb[i] : rgb[i] < 1 / 2 ? temp2 : rgb[i] < 2 / 3 ? temp1 + (temp2 - temp1) * 6 * (2 / 3 - rgb[i]) : temp1;
    }
     
    return rgb.join(' ');
  },
  hex2rgb: function(hex) {
    var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return result ? [
        parseInt(result[1], 16),
        parseInt(result[2], 16),
        parseInt(result[3], 16)
    ] : null;
  },
  rgb2hsl: function(r, g, b) {
    r = unit(r);
    g = unit(g);
    b = unit(b);
    var
      min = Math.min(r, g, b),
      max = Math.max(r, g, b),
      diff = max - min,
      h = 0, s = 0, l = (min + max) / 2;
       
      if (diff != 0) {
        s = l < 0.5 ? diff / (max + min) : diff / (2 - max - min);
         
        h = (r == max ? (g - b) / diff : g == max ? 2 + (b - r) / diff : 4 + (r - g) / diff) * 60;
      }
       
      return [h, s, l].join(' ');
  }
};

function doit() {
  var value = document.getElementById('input').value,
    output = document.getElementById('output'),
    func,
    parts = value.split(' ');

  if(Convert[parts[0]]) {
    func = Convert[parts.shift()]; 
    // if the input is a hex code and that's not what we are looking for
    if(parts.length == 1 && func.length > 1){
      // convert it
      parts = Convert.hex2rgb(parts[0]);
    }
    // this means that our input should be integers
    if(func.length > 1) {
      for(var i = 0; i < parts.length; i++) {
        parts[i] = parseFloat(parts[i]);
      }
    }
    output.innerHTML = func.apply(this, parts);
  } else {
    output.innerHTML = parts.shift() + " not found";
  }
}
</script>
